!function(s){var t;t=function(t,i){this.$el=s(t),this.end=i.expiryDate,this.interval=i.interval,this.speed=i.speed,this.timer=0,this.callBack=jQuery.isFunction(i.callBack)?i.callBack:null,this.localization={days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},s.extend(this.localization,this.localization,i.localization)},t.prototype={getCounterNumbers:function(){var s,t,i,n,e,a={days:{tens:0,units:0,hundreds:0},hours:{tens:0,units:0},minutes:{tens:0,units:0},seconds:{tens:0,units:0}},o=0,d=new Date,u=this.end.getTime()-d.getTime();return u<=0?a:(s=Math.min(Math.floor(u/864e5),999),o=u%864e5,a.days.hundreds=Math.floor(s/100),t=s%100,a.days.tens=Math.floor(t/10),a.days.units=t%10,i=Math.floor(o/36e5),o%=36e5,a.hours.tens=Math.floor(i/10),a.hours.units=i%10,n=Math.floor(o/6e4),o%=6e4,a.minutes.tens=Math.floor(n/10),a.minutes.units=n%10,e=Math.floor(o/1e3),a.seconds.tens=Math.floor(e/10),a.seconds.units=e%10,a)},updatePart:function(t){var i,n,e=this.getCounterNumbers(),a=s("."+t,this.$el);"days"==t&&(this.setDayHundreds(e.days.hundreds>0),a.find(".number.hundreds.show").html()!=e[t].hundreds&&(i=s(".n1.hundreds",a),n=s(".n2.hundreds",a),this.scrollNumber(i,n,e[t].hundreds))),a.find(".number.tens.show").html()!=e[t].tens&&(i=s(".n1.tens",a),n=s(".n2.tens",a),this.scrollNumber(i,n,e[t].tens)),a.find(".number.units.show").html()!=e[t].units&&(i=s(".n1.units",a),n=s(".n2.units",a),this.scrollNumber(i,n,e[t].units))},timeOut:function(){var s=new Date;return this.end.getTime()-s.getTime()<=0},setDayHundreds:function(t){t?s(".counter.days",this.$el).addClass("with-hundreds"):s(".counter.days",this.$el).removeClass("with-hundreds")},updateCounter:function(){this.updatePart("days"),this.updatePart("hours"),this.updatePart("minutes"),this.updatePart("seconds"),this.timeOut()&&(this.stop(),this.callBack&&this.callBack(this))},localize:function(t){s.isPlainObject(t)&&s.extend(this.localization,this.localization,t),s(".days",this.$el).siblings(".counter-caption").text(this.localization.days),s(".hours",this.$el).siblings(".counter-caption").text(this.localization.hours),s(".minutes",this.$el).siblings(".counter-caption").text(this.localization.minutes),s(".seconds",this.$el).siblings(".counter-caption").text(this.localization.seconds)},start:function(){var s=this;s.stop(),0==s.timer&&(s.timer=setInterval(function(){s.updateCounter()},s.interval)),s.updateCounter()},stop:function(){this.timer>0&&(clearInterval(this.timer),this.timer=0)},scrollNumber:function(s,t,i){s.hasClass("show")?(t.removeClass("hidden-down").css("top","-100%").text(i).stop().animate({top:0},this.speed,function(){t.addClass("show")}),s.stop().animate({top:"100%"},this.speed,function(){s.removeClass("show").addClass("hidden-down")})):(s.removeClass("hidden-down").css("top","-100%").text(i).stop().animate({top:0},this.speed,function(){s.addClass("show")}),t.stop().animate({top:"100%"},this.speed,function(){t.removeClass("show").addClass("hidden-down")}))}},jQuery.fn.mbComingsoon=function(i){var n={interval:1e3,callBack:null,localization:{days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},speed:500},e={};return this.each(function(){var a=s(this),o=a.data("mbComingsoon");if(void 0===o){if(i instanceof Date?e.expiryDate=i:s.isPlainObject(i)?s.extend(e,n,i):"string"==typeof i&&(e.expiryDate=new Date(i)),!e.expiryDate)throw new Error("Expiry date is required!");o=new t(a,e),a.data("mbComingsoon",o),a.html('   <div class="counter-group" id="myCounter">       <div class="counter-block">           <div class="counter days">               <div class="number show n1 hundreds">0</div>               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 hundreds">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">days</div>       </div>       <div class="counter-block">           <div class="counter hours">               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">hours</div>       </div>       <div class="counter-block">           <div class="counter minutes">               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">minutes</div>       </div>       <div class="counter-block">           <div class="counter seconds">               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">seconds</div>       </div>   </div>'),o.localize(),o.start()}else"start"==i?o.start():"stop"==i?o.stop():s.isPlainObject(i)&&(i.expiryDate instanceof Date&&(o.end=i.expiryDate),s.isNumeric(i.interval)&&(o.interval=i.interval),s.isFunction(i.callBack)&&(o.callBack=i.callBack),s.isPlainObject(i.localization)&&this.localize(i.localization),o.start())})}}(jQuery);